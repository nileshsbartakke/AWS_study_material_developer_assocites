var g_bCustomEvent=!1;try{var oEvent=new CustomEvent("check",null);g_bCustomEvent=!!oEvent}catch(e){g_bCustomEvent=!1}var g_iLogLevel=0;function CheckLogLevel(iLevel){return!(!console||console&&!console.log)&&!(iLevel>g_iLogLevel)}function AxiomCommManager(oSettings){this.m_iLastID=0,this.m_bEngineRecovered=!1,this.m_aPendingMessages=[],this.m_oSettings=oSettings,this.m_oCallHandlers={},this.CreateWorker()}AxiomCommManager.prototype.CreateWorker=function(){if(!window.Worker||IsIE())if("undefined"!=typeof AxiomWorker&&"undefined"!=typeof AxiomSocket){if(this.m_oWorker=new AxiomWorker(this._onWorkerMessage.bind(this),!0),this.m_aPendingMessages&&this.m_aPendingMessages.length>0)for(;this.m_aPendingMessages.length>0;)this.m_oWorker.postMessage(this.m_aPendingMessages.shift())}else"undefined"==typeof AxiomWorker&&"undefined"!=typeof AxiomSocket?LoadScript(this.m_oSettings.ScriptDir+"/VTS/Axiom/WebWorker.js",this.CreateWorker.bind(this)):"undefined"==typeof AxiomWorker&&"undefined"==typeof AxiomSocket&&LoadScript(this.m_oSettings.ScriptDir+"/VTS/Axiom/WebSocket.js",this.CreateWorker.bind(this));else{if(this.m_oWorker&&(this.m_oWorker.terminate(),delete this.m_oWorker,this.m_oWorker&&(this.m_oWorker=null)),IsEdge()){new Worker(this.m_oSettings.ScriptDir+"/VTS/Axiom/Definitions.js");0}if(this.m_oWorker=new Worker(this.m_oSettings.ScriptDir+"/VTS/Axiom/CommWorker.js"),this.m_oWorker.onmessage=this._onWorkerMessage.bind(this),this.m_oWorker.onerror=this._onWorkerError.bind(this),this.m_aPendingMessages&&this.m_aPendingMessages.length>0)for(;this.m_aPendingMessages.length>0;)this.m_oWorker.postMessage(this.m_aPendingMessages.shift())}},AxiomCommManager.prototype.DestroyWorker=function(){window.Worker?this.m_oWorker&&(this.m_oWorker.terminate(),delete this.m_oWorker,this.m_oWorker&&(this.m_oWorker=null)):this.m_oWorker&&(this.m_oWorker=null)},AxiomCommManager.prototype.Open=function(oParams){this._postMessage({type:"connect",Params:oParams,Settings:this.m_oSettings})},AxiomCommManager.prototype.Close=function(cName){this._postMessage({type:"close",name:cName})},AxiomCommManager.prototype.Retry=function(cName){this._postMessage({type:"retry",name:cName})},AxiomCommManager.prototype.ProcessMessage=function(cName,oData){this._processMessage({name:cName,data:oData})},AxiomCommManager.prototype.AnalyticsSubscribe=function(cName,oCallHandler,aList){this._sendCommand(cName,MSG_ANALYTICS_SUBSCRIBE,aList)},AxiomCommManager.prototype.AnalyticsUnsubscribe=function(cName,oCallHandler,aList){this._sendCommand(cName,MSG_ANALYTICS_UNSUBSCRIBE,aList)},AxiomCommManager.prototype.ReceiveAnalytics=function(cName,oCallHandler,iMessageID){iMessageID&&!isNaN(iMessageID)&&iMessageID>0&&oCallHandler&&this._setHandler(cName,iMessageID,oCallHandler)},AxiomCommManager.prototype.SendAnalytics=function(cName,oCallHandler,iMessageID,oData,bBuffer){this._sendCommand(cName,iMessageID,oData,null,bBuffer)},AxiomCommManager.prototype.GetAnalyticsUserList=function(cName,oCallHandler,oInfo,oFlags){oCallHandler&&this._setHandler(cName,MSG_ANALYTICS_USERLIST,oCallHandler),-1==oInfo.QoEIndex&&(oInfo.QoEIndex=ANALYTICS_KEY_LOW_NONE),-1==oInfo.BrowserIndex&&(oInfo.BrowserIndex=ANALYTICS_KEY_LOW_NONE),-1==oInfo.OSIndex&&(oInfo.OSIndex=ANALYTICS_KEY_LOW_NONE),-1==oInfo.CDNIndex&&(oInfo.CDNIndex=ANALYTICS_KEY_LOW_NONE),oFlags||(oFlags={});var iProperyFlags=0;oFlags.Indexes&&(iProperyFlags+=ANALYTICS_ULP_INDEXES),oFlags.Types&&(iProperyFlags+=ANALYTICS_ULP_TYPES),oFlags.Name&&(iProperyFlags+=ANALYTICS_ULP_NAME),oFlags.EMail&&(iProperyFlags+=ANALYTICS_ULP_EMAIL),oFlags.Duration&&(iProperyFlags+=ANALYTICS_ULP_DURATION),oFlags.InternalIP&&(iProperyFlags+=ANALYTICS_ULP_INTERIP),oFlags.PublicIP&&(iProperyFlags+=ANALYTICS_ULP_PUBLICIP),oFlags.OutputKey&&(iProperyFlags+=ANALYTICS_ULP_OUTPUTKEY),oFlags.AmplifyKey&&(iProperyFlags+=ANALYTICS_ULP_AMPLIFYKEY),oFlags.AmplifyServer&&(iProperyFlags+=ANALYTICS_ULP_AMPSERVER),oFlags.Polls&&(iProperyFlags+=ANALYTICS_ULP_POLLS),oFlags.CheckPoints&&(iProperyFlags+=ANALYTICS_ULP_CHECKPOINTS),this._sendCommand(cName,MSG_ANALYTICS_USERLIST,[oInfo.UserKey,1*oInfo.AttendeeKey,oInfo.QoEIndex,oInfo.BrowserIndex,oInfo.OSIndex,oInfo.CDNIndex,iProperyFlags],MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.GetAnalyticsUserListByOutput=function(cName,oCallHandler,oInfo,oFlags){oCallHandler&&this._setHandler(cName,MSG_ANALYTICS_USERLIST,oCallHandler),-1==oInfo.OutputKey&&(oInfo.OutputKey=ANALYTICS_KEY_NONE),oFlags||(oFlags={});var iProperyFlags=0;oFlags.Indexes&&(iProperyFlags+=ANALYTICS_ULP_INDEXES),oFlags.Types&&(iProperyFlags+=ANALYTICS_ULP_TYPES),oFlags.Name&&(iProperyFlags+=ANALYTICS_ULP_NAME),oFlags.EMail&&(iProperyFlags+=ANALYTICS_ULP_EMAIL),oFlags.Duration&&(iProperyFlags+=ANALYTICS_ULP_DURATION),oFlags.InternalIP&&(iProperyFlags+=ANALYTICS_ULP_INTERIP),oFlags.PublicIP&&(iProperyFlags+=ANALYTICS_ULP_PUBLICIP),oFlags.OutputKey&&(iProperyFlags+=ANALYTICS_ULP_OUTPUTKEY),oFlags.AmplifyKey&&(iProperyFlags+=ANALYTICS_ULP_AMPLIFYKEY),oFlags.AmplifyServer&&(iProperyFlags+=ANALYTICS_ULP_AMPSERVER),oFlags.Polls&&(iProperyFlags+=ANALYTICS_ULP_POLLS),oFlags.CheckPoints&&(iProperyFlags+=ANALYTICS_ULP_CHECKPOINTS),this._sendCommand(cName,MSG_ANALYTICS_USERLIST2,[oInfo.UserKey,1*oInfo.AttendeeKey,oInfo.OutputKey,iProperyFlags],MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.GetAnalyticsUserListByAmplify=function(cName,oCallHandler,oInfo,oFlags){oCallHandler&&this._setHandler(cName,MSG_ANALYTICS_USERLIST,oCallHandler),-1==oInfo.AmplifyKey&&(oInfo.AmplifyKey=ANALYTICS_KEY_NONE),oFlags||(oFlags={});var iProperyFlags=0;oFlags.Indexes&&(iProperyFlags+=ANALYTICS_ULP_INDEXES),oFlags.Types&&(iProperyFlags+=ANALYTICS_ULP_TYPES),oFlags.Name&&(iProperyFlags+=ANALYTICS_ULP_NAME),oFlags.EMail&&(iProperyFlags+=ANALYTICS_ULP_EMAIL),oFlags.Duration&&(iProperyFlags+=ANALYTICS_ULP_DURATION),oFlags.InternalIP&&(iProperyFlags+=ANALYTICS_ULP_INTERIP),oFlags.PublicIP&&(iProperyFlags+=ANALYTICS_ULP_PUBLICIP),oFlags.OutputKey&&(iProperyFlags+=ANALYTICS_ULP_OUTPUTKEY),oFlags.AmplifyKey&&(iProperyFlags+=ANALYTICS_ULP_AMPLIFYKEY),oFlags.AmplifyServer&&(iProperyFlags+=ANALYTICS_ULP_AMPSERVER),oFlags.Polls&&(iProperyFlags+=ANALYTICS_ULP_POLLS),oFlags.CheckPoints&&(iProperyFlags+=ANALYTICS_ULP_CHECKPOINTS),this._sendCommand(cName,MSG_ANALYTICS_USERLIST3,[oInfo.UserKey,1*oInfo.AttendeeKey,oInfo.AmplifyKey,iProperyFlags],MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.GetAnalyticsSearchUserList=function(cName,oCallHandler,oInfo,oSearchFlags,oResultFlags){if(oInfo&&oInfo.SearchString){oCallHandler&&this._setHandler(cName,MSG_ANALYTICS_USERLIST,oCallHandler),oSearchFlags||(oSearchFlags={});var iSearchProperyFlags=0;oSearchFlags.Indexes&&(iSearchProperyFlags+=ANALYTICS_ULP_INDEXES),oSearchFlags.Types&&(iSearchProperyFlags+=ANALYTICS_ULP_TYPES),oSearchFlags.Name&&(iSearchProperyFlags+=ANALYTICS_ULP_NAME),oSearchFlags.EMail&&(iSearchProperyFlags+=ANALYTICS_ULP_EMAIL),oSearchFlags.Duration&&(iSearchProperyFlags+=ANALYTICS_ULP_DURATION),oSearchFlags.InternalIP&&(iSearchProperyFlags+=ANALYTICS_ULP_INTERIP),oSearchFlags.PublicIP&&(iSearchProperyFlags+=ANALYTICS_ULP_PUBLICIP),oSearchFlags.OutputKey&&(iSearchProperyFlags+=ANALYTICS_ULP_OUTPUTKEY),oSearchFlags.AmplifyKey&&(iSearchProperyFlags+=ANALYTICS_ULP_AMPLIFYKEY),oSearchFlags.AmplifyServer&&(iSearchProperyFlags+=ANALYTICS_ULP_AMPSERVER),oSearchFlags.Polls&&(iSearchProperyFlags+=ANALYTICS_ULP_POLLS),oSearchFlags.CheckPoints&&(iSearchProperyFlags+=ANALYTICS_ULP_CHECKPOINTS),oResultFlags||(oResultFlags={});var iResultProperyFlags=0;oResultFlags.Indexes&&(iResultProperyFlags+=ANALYTICS_ULP_INDEXES),oResultFlags.Types&&(iResultProperyFlags+=ANALYTICS_ULP_TYPES),oResultFlags.Name&&(iResultProperyFlags+=ANALYTICS_ULP_NAME),oResultFlags.EMail&&(iResultProperyFlags+=ANALYTICS_ULP_EMAIL),oResultFlags.Duration&&(iResultProperyFlags+=ANALYTICS_ULP_DURATION),oResultFlags.InternalIP&&(iResultProperyFlags+=ANALYTICS_ULP_INTERIP),oResultFlags.PublicIP&&(iResultProperyFlags+=ANALYTICS_ULP_PUBLICIP),oResultFlags.OutputKey&&(iResultProperyFlags+=ANALYTICS_ULP_OUTPUTKEY),oResultFlags.AmplifyKey&&(iResultProperyFlags+=ANALYTICS_ULP_AMPLIFYKEY),oResultFlags.AmplifyServer&&(iResultProperyFlags+=ANALYTICS_ULP_AMPSERVER),oResultFlags.Polls&&(iResultProperyFlags+=ANALYTICS_ULP_POLLS),oResultFlags.CheckPoints&&(iResultProperyFlags+=ANALYTICS_ULP_CHECKPOINTS),this._sendCommand(cName,MSG_ANALYTICS_USERSEARCH,[oInfo.UserKey,1*oInfo.AttendeeKey,iSearchProperyFlags,iResultProperyFlags,oInfo.SearchString],MQ_MESSAGEFILTER_SPEAKER)}},AxiomCommManager.prototype.GetAnalyticsUserListByUserKey=function(cName,oCallHandler,oInfo,oFlags,aUserKeys){oCallHandler&&this._setHandler(cName,MSG_ANALYTICS_USERLIST,oCallHandler),oFlags||(oFlags={});var iProperyFlags=0;oFlags.Indexes&&(iProperyFlags+=ANALYTICS_ULP_INDEXES),oFlags.Types&&(iProperyFlags+=ANALYTICS_ULP_TYPES),oFlags.Name&&(iProperyFlags+=ANALYTICS_ULP_NAME),oFlags.EMail&&(iProperyFlags+=ANALYTICS_ULP_EMAIL),oFlags.Duration&&(iProperyFlags+=ANALYTICS_ULP_DURATION),oFlags.InternalIP&&(iProperyFlags+=ANALYTICS_ULP_INTERIP),oFlags.PublicIP&&(iProperyFlags+=ANALYTICS_ULP_PUBLICIP),oFlags.OutputKey&&(iProperyFlags+=ANALYTICS_ULP_OUTPUTKEY),oFlags.AmplifyKey&&(iProperyFlags+=ANALYTICS_ULP_AMPLIFYKEY),oFlags.AmplifyServer&&(iProperyFlags+=ANALYTICS_ULP_AMPSERVER),oFlags.Polls&&(iProperyFlags+=ANALYTICS_ULP_POLLS),oFlags.CheckPoints&&(iProperyFlags+=ANALYTICS_ULP_CHECKPOINTS);var aData=[];aData.push(oInfo.UserKey),aData.push(1*oInfo.AttendeeKey),aData.push(iProperyFlags);for(var iLup=0;iLup<aUserKeys.length;iLup++)aData.push(aUserKeys[iLup]);this._sendCommand(cName,MSG_ANALYTICS_SPECIFICUSERS,aData,MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.GetAnalyticsUserEvents=function(cName,oCallHandler,oInfo){oCallHandler&&this._setHandler(cName,MSG_ANALYTICS_USEREVENTS,oCallHandler),this._sendCommand(cName,MSG_ANALYTICS_USEREVENTS,[oInfo.UserKey,1*oInfo.AttendeeKey,oInfo.QueryUserKey])};var g_aStatViewerInfo=null;AxiomCommManager.prototype.SendAnalyticsClientInfo=function(cName,oCallHandler,oInfo){var iClientOS=9;oInfo.ClientOS in ANALYTICS_OS?iClientOS=ANALYTICS_OS[oInfo.ClientOS]:-1!=oInfo.ClientOS.toLowerCase().indexOf("windows")&&(iClientOS=ANALYTICS_OS.Windows);var iClientBrowser=5,cBrowser=oInfo.ClientBrowser,cUserAgent=navigator.userAgent;if(window.chrome&&!/Edge/.test(cUserAgent)){if(/Edg/.test(cUserAgent))cBrowser="Edge";else if(/AVG/.test(cUserAgent))cBrowser="AVG";else if(/Chrome/.test(cUserAgent)){cBrowser="Chromium";var aPlugins=navigator.plugins;if(aPlugins&&aPlugins.length>0){var iLup=0;for(iLup=0;iLup<aPlugins.length;iLup++)if(/Chrome/.test(aPlugins[iLup].name)){cBrowser="Chrome";break}}else cBrowser="Chromium"}}else/Edge/.test(cUserAgent)&&(cBrowser="Legacy Edge");cBrowser in ANALYTICS_Browser?iClientBrowser=ANALYTICS_Browser[cBrowser]:-1!=cBrowser.toLowerCase().indexOf("firefox")&&(iClientBrowser=ANALYTICS_Browser.Firefox),this._sendCommand(cName,MSG_ANALYTICS_CLIENTINFO,[oInfo.UserKey,oInfo.AttendeeKey,iClientBrowser,iClientOS,oInfo.IACServerKey,oInfo.IACServerName,oInfo.InternalIPAddress,oInfo.PublicIPAddress,oInfo.UserName,oInfo.EMailAddress])},AxiomCommManager.prototype.SendAnalyticsStreamStart=function(cName,oCallHandler,oInfo){this._sendCommand(cName,MSG_ANALYTICS_STREAMSTART,[oInfo.UserKey,oInfo.AttendeeKey,oInfo.StreamType,oInfo.PlayerType,oInfo.CDNType,oInfo.OutputKey])},AxiomCommManager.prototype.SetRequestAnalyticQueryHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_ANALYTICS_QUERYCODE,oCallHandler)},AxiomCommManager.prototype.RequestAnalyticQuery=function(cName,oCallHandler,oInfo){this._sendCommand(cName,MSG_ANALYTICS_QUERYCODE,[oInfo.RequestUserKey,oInfo.QueryCode])},AxiomCommManager.prototype.SendAnalyticQuery=function(cName,oCallHandler,oInfo){this._sendCommand(cName,MSG_ANALYTICS_QUERYRESULT,[oInfo.UserKey,oInfo.AttendeeKey,oInfo.QueryCode,oInfo.Query])},AxiomCommManager.prototype.LoadSceneBackground=function(cName,oCallHandler,cFilePath){oCallHandler&&this.SetLoadSceneBackgroundHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_PATH]=cFilePath,this._sendCommand(cName,MSG_SCENE_BACKGROUND_LOAD,oJSON,MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.SetLoadSceneBackgroundHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_SCENE_BACKGROUND_LOAD,oCallHandler)},AxiomCommManager.prototype.BroadcastMessage=function(cName,oCallHandler,iFilterFlag,cMessage,cTargetKey){oCallHandler&&this.SetBroadcastMessageHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_BROADCAST_MESSAGE_TEXT]=cMessage,oJSON[MSG_ATTR_BROADCAST_MESSAGE_TARGET_KEY]=cTargetKey,this._sendCommand(cName,MSG_BROADCAST_INFO_MSG,oJSON,iFilterFlag)},AxiomCommManager.prototype.SetBroadcastMessageHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_BROADCAST_INFO_MSG,oCallHandler)},AxiomCommManager.prototype.SetAttendanceVerificationCheckHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_ATTENDANCE_VERIFICATION_CHECK,oCallHandler)},AxiomCommManager.prototype.SendAttendanceVerificationResponse=function(cName,oCallHandler,UserKey,DateDisplayed){var oJSON=new JSONObject;oJSON[MSG_ATTENDANCE_VERIFICATION_SHOW_USER_KEY]=UserKey,oJSON[MSG_ATTENDANCE_VERIFICATION_DATE_DISPLAYED]=DateDisplayed,this._sendCommand(cName,MSG_ATTENDANCE_VERIFICATION_RESPONSE,oJSON)},AxiomCommManager.prototype.SetResumeAttendanceVerificationHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_ATTENDANCE_VERIFICATION_RESUME,oCallHandler)},AxiomCommManager.prototype.ResumeAttendanceVerification=function(cName,oCallHandler){oCallHandler&&this.SetResumeAttendanceVerificationHandler(cName,oCallHandler),this._sendCommand(cName,MSG_ATTENDANCE_VERIFICATION_RESUME)},AxiomCommManager.prototype.SetPauseAttendanceVerificationHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_ATTENDANCE_VERIFICATION_PAUSE,oCallHandler)},AxiomCommManager.prototype.PauseAttendanceVerification=function(cName,oCallHandler){oCallHandler&&this.SetPauseAttendanceVerificationHandler(cName,oCallHandler),this._sendCommand(cName,MSG_ATTENDANCE_VERIFICATION_PAUSE)},AxiomCommManager.prototype.SetRecordingLimitHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_RECORDING_LIMIT_NEAR,oCallHandler)},AxiomCommManager.prototype.SetExtendRecordingHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_RECORDING_LIMIT_EXTEND,oCallHandler)},AxiomCommManager.prototype.ExtendRecording=function(cName,oCallHandler,iExtendID){oCallHandler&&this.SetExtendRecordingHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_RECORDING_NOTIFY_ID]=iExtendID,this._sendCommand(cName,MSG_RECORDING_LIMIT_EXTEND,oJSON,MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.PanelCommand=function(cName,oCallHandler,iPanelKey,iPanelCommand){oCallHandler&&this.SetPanelCommandHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_WORKSPACE_PANEL_KEY]=isNaN(iPanelKey)?parseInt(iPanelKey):iPanelKey,oJSON[MSG_ATTR_WORKSPACE_PANEL_COMMAND]=iPanelCommand,this._sendCommand(cName,MSG_PANELCOMMAND_MSG,oJSON,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetPanelCommandHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_PANELCOMMAND_MSG,oCallHandler)},AxiomCommManager.prototype.ScreenShareStart=function(cName,oCallHandler,iEventAttendeeKey){oCallHandler&&this.SetScreenShareStartHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,this._sendCommand(cName,MSG_SCREENSHARE_START,oJSON)},AxiomCommManager.prototype.SetScreenShareStartHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_SCREENSHARE_START,oCallHandler)},AxiomCommManager.prototype.ScreenShareEnd=function(cName,oCallHandler,iEventAttendeeKey){oCallHandler&&this.SetScreenShareEndHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,this._sendCommand(cName,MSG_SCREENSHARE_END,oJSON)},AxiomCommManager.prototype.SetScreenShareEndHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_SCREENSHARE_END,oCallHandler)},AxiomCommManager.prototype.SetScreenShareMediaReadyHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_SCREENSHARE_MEDIAREADY,oCallHandler)},AxiomCommManager.prototype.QuestionSave=function(cName,oCallHandler,iEventAttendeeKey,cQuestion,cPriority,iEventQuestionKey,iFilterFlag){oCallHandler&&this.SetQuestionSaveHandler(cName,oCallHandler),iFilterFlag&&iFilterFlag==MQ_MESSAGEFILTER_ALL||(iFilterFlag=MQ_MESSAGEFILTER_SPEAKER);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,oJSON[MSG_ATTR_QUESTIONANSWERTEXT]=cQuestion,oJSON[MSG_ATTR_QUESTIONPRIORITY]=cPriority,oJSON[MSG_ATTR_EVENTQUESTION_KEY]=0,iEventQuestionKey&&iEventQuestionKey>0&&(oJSON[MSG_ATTR_EVENTQUESTION_KEY]=iEventQuestionKey),this._sendCommand(cName,MSG_QA_QUESTIONSAVE,oJSON,iFilterFlag)},AxiomCommManager.prototype.SetQuestionSaveHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_QA_QUESTIONSAVE,oCallHandler)},AxiomCommManager.prototype.SetQuestionBoradcastHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_QA_QUESTIONDISTRIBUTE,oCallHandler)},AxiomCommManager.prototype.QuestionDelete=function(cName,oCallHandler,iEventAttendeeKey,iEventQuestionKey){oCallHandler&&this.SetQuestionDeleteHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,oJSON[MSG_ATTR_EVENTQUESTION_KEY]=iEventQuestionKey,this._sendCommand(cName,MSG_QA_QUESTIONDELETE,oJSON,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetQuestionDeleteHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_QA_QUESTIONDELETE,oCallHandler)},AxiomCommManager.prototype.QuestionPriority=function(cName,oCallHandler,iEventAttendeeKey,iEventQuestionKey,cPriority){oCallHandler&&this.SetQuestionPriorityHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,oJSON[MSG_ATTR_EVENTQUESTION_KEY]=iEventQuestionKey,oJSON[MSG_ATTR_QUESTIONPRIORITY]=cPriority,this._sendCommand(cName,MSG_QA_QUESTIONSETPRIORITY,oJSON,MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.SetQuestionPriorityHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_QA_QUESTIONSETPRIORITY,oCallHandler)},AxiomCommManager.prototype.QuestionAssignment=function(cName,oCallHandler,iEventAttendeeKey,iEventQuestionKey,iEventStaffKey){oCallHandler&&this.SetQuestionAssignmentHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,oJSON[MSG_ATTR_EVENTQUESTION_KEY]=iEventQuestionKey,oJSON[MSG_SPEAKER_EVENT_STAFF_KEY]=iEventStaffKey,this._sendCommand(cName,MSG_QA_QUESTIONSETASSIGNMENT,oJSON,MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.SetQuestionAssignmentHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_QA_QUESTIONSETASSIGNMENT,oCallHandler)},AxiomCommManager.prototype.AnswerSave=function(cName,oCallHandler,iEventAttendeeKey,iReplyToEventQuestionKey,cAnswerText,cStatus,iDelegateEventStaffKey,iEventQuestionAnswerKey){oCallHandler&&this.SetAnswerSaveHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,oJSON[MSG_ATTR_EVENTQUESTION_KEY]=iReplyToEventQuestionKey,oJSON[MSG_ATTR_QUESTIONANSWER_STATUS]=cStatus,oJSON[MSG_ATTR_QUESTIONANSWERTEXT]=cAnswerText,iEventQuestionAnswerKey&&iEventQuestionAnswerKey>0&&(oJSON[MSG_ATTR_QUESTIONANSWER_KEY]=iEventQuestionAnswerKey),iDelegateEventStaffKey&&iDelegateEventStaffKey>0&&(oJSON[MSG_ATTR_QUESTIONDELEGATESTAFF_KEY]=iDelegateEventStaffKey),this._sendCommand(cName,MSG_QA_ANSWERSAVE,oJSON,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetAnswerSaveHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_QA_ANSWERSAVE,oCallHandler)},AxiomCommManager.prototype.AnswerSaveMod=function(cName,oCallHandler,iEventAttendeeKey,iReplyToEventQuestionKey,cAnswerText,cStatus,iEventQuestionAnswerKey){oCallHandler&&this.SetAnswerSaveModHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,oJSON[MSG_ATTR_EVENTQUESTION_KEY]=iReplyToEventQuestionKey,oJSON[MSG_ATTR_QUESTIONANSWER_STATUS]=cStatus,oJSON[MSG_ATTR_QUESTIONANSWERTEXT]=cAnswerText,iEventQuestionAnswerKey&&iEventQuestionAnswerKey>0&&(oJSON[MSG_ATTR_QUESTIONANSWER_KEY]=iEventQuestionAnswerKey),this._sendCommand(cName,MSG_QA_ANSWERSAVEMOD,oJSON,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetAnswerSaveModHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_QA_ANSWERSAVEMOD,oCallHandler)},AxiomCommManager.prototype.AnswerSaveAtt=function(cName,oCallHandler,iEventAttendeeKey,iReplyToEventQuestionKey,cAnswerText,iEventQuestionAnswerKey){oCallHandler&&this.SetAnswerSaveAttHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,oJSON[MSG_ATTR_EVENTQUESTION_KEY]=iReplyToEventQuestionKey,oJSON[MSG_ATTR_QUESTIONANSWERTEXT]=cAnswerText,iEventQuestionAnswerKey&&iEventQuestionAnswerKey>0&&(oJSON[MSG_ATTR_QUESTIONANSWER_KEY]=iEventQuestionAnswerKey),this._sendCommand(cName,MSG_QA_ANSWERSAVEATT,oJSON,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetAnswerSaveAttHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_QA_ANSWERSAVEATT,oCallHandler)},AxiomCommManager.prototype.AnswerDelete=function(cName,oCallHandler,iEventAttendeeKey,iEventQuestionKey,iEventQuestionAnswerKey){oCallHandler&&this.SetAnswerDeleteHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,oJSON[MSG_ATTR_EVENTQUESTION_KEY]=iEventQuestionKey,oJSON[MSG_ATTR_QUESTIONANSWER_KEY]=iEventQuestionAnswerKey,this._sendCommand(cName,MSG_QA_ANSWERDELETE,oJSON,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetAnswerDeleteHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_QA_ANSWERDELETE,oCallHandler)},AxiomCommManager.prototype.GeneralStatus=function(cName,oCallHandler,iEventAttendeeKey,iEventQuestionKey,cUserID,iStatus){oCallHandler&&this.SetGeneralStatusHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,oJSON[MSG_ATTR_EVENTQUESTION_KEY]=iEventQuestionKey,oJSON[MSG_ATTR_QUESTIONSENDER]=cUserID,oJSON[MSG_ATTR_QUESTIONANSWER_STATUS]=iStatus,this._sendCommand(cName,MSG_QA_GENERALSTATUS,oJSON,MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.SetGeneralStatusHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_QA_GENERALSTATUS,oCallHandler)},AxiomCommManager.prototype.FolderCreate=function(cName,oCallHandler,iEventAttendeeKey,cFolderName,iDisplayOrder){oCallHandler&&this.SetFolderCreateHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,oJSON[MSG_ATTR_QUESTION_FOLDER_NAME]=cFolderName,oJSON[MSG_ATTR_QUESTION_FOLDER_ORDER]=iDisplayOrder,this._sendCommand(cName,MSG_QA_FOLDER_CREATE,oJSON,MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.SetFolderCreateHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_QA_FOLDER_CREATE,oCallHandler)},AxiomCommManager.prototype.FolderUpdate=function(cName,oCallHandler,iEventAttendeeKey,iFolderKey,cFolderName,iDisplayOrder){oCallHandler&&this.SetFolderUpdateHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,oJSON[MSG_ATTR_QUESTION_FOLDER_KEY]=iFolderKey,oJSON[MSG_ATTR_QUESTION_FOLDER_NAME]=cFolderName,oJSON[MSG_ATTR_QUESTION_FOLDER_ORDER]=iDisplayOrder,this._sendCommand(cName,MSG_QA_FOLDER_UPDATE,oJSON,MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.SetFolderUpdateHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_QA_FOLDER_UPDATE,oCallHandler)},AxiomCommManager.prototype.FolderDelete=function(cName,oCallHandler,iEventAttendeeKey,iFolderKey){oCallHandler&&this.SetFolderDeleteHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,oJSON[MSG_ATTR_QUESTION_FOLDER_KEY]=iFolderKey,this._sendCommand(cName,MSG_QA_FOLDER_DELETE,oJSON,MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.SetFolderDeleteHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_QA_FOLDER_DELETE,oCallHandler)},AxiomCommManager.prototype.TagUpdate=function(cName,oCallHandler,iEventAttendeeKey,iSource,iKeyVal,cTagList){oCallHandler&&this.SetTagUpdateHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_EVENTATTENDEE_KEY]=iEventAttendeeKey,oJSON[MSG_ATTR_QUESTION_TAG_SOURCE]=iSource,oJSON[MSG_ATTR_QUESTION_TAG_KEYVAL]=iKeyVal,oJSON[MSG_ATTR_QUESTION_TAG_LIST]=cTagList,this._sendCommand(cName,MSG_QA_TAG_UPDATE,oJSON,MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.SetTagUpdateHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_QA_TAG_UPDATE,oCallHandler)},AxiomCommManager.prototype.GetLastMessageByType=function(cName,oCallHandler,iMessageType){this._postMessage({type:"getLastMessageByType",name:cName,message:iMessageType})},AxiomCommManager.prototype.GetQAStatusMessages=function(cName){this._postMessage({type:"getQAStatusMessages",name:cName})},AxiomCommManager.prototype.AddChatMessage=function(cName,oCallHandler,iChatRoomKey,iChatUserKey,cUserName,iLocaleID,cFrontTag,cEndTag,cPostText){oCallHandler&&this.SetAddChatMessageHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_CHATROOM_KEY]=iChatRoomKey,oJSON[MSG_ATTR_CHATUSER_KEY]=iChatUserKey,oJSON[MSG_ATTR_CHATUSERNAME]=cUserName,oJSON[MSG_ATTR_LOCALE_ID]=iLocaleID,oJSON[MSG_ATTR_CHATFRONTTAG]=cFrontTag,oJSON[MSG_ATTR_CHATENDTAG]=cEndTag,oJSON[MSG_ATTR_CHATPOSTTEXT]=cPostText,this._sendCommand(cName,MSG_CHAT_ADD_MESSAGE,oJSON,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetAddChatMessageHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_CHAT_ADD_MESSAGE,oCallHandler)},AxiomCommManager.prototype.RemoveChatMessage=function(cName,oCallHandler,iChatRoomKey,iChatRoomDetailKey){oCallHandler&&this.SetRemoveChatMessageHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_CHATROOM_KEY]=iChatRoomKey,oJSON[MSG_ATTR_CHATROOMDETAIL_KEY]=iChatRoomDetailKey,this._sendCommand(cName,MSG_CHAT_REMOVE_MESSAGE,oJSON,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetRemoveChatMessageHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_CHAT_REMOVE_MESSAGE,oCallHandler)},AxiomCommManager.prototype.OptInRequestSend=function(cName,oCallHandler,iChatRoomKey){oCallHandler&&this.SetOptInRequestHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_CHATROOM_KEY]=iChatRoomKey,this._sendCommand(cName,MSG_CHAT_OPT_IN,oJSON,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetOptInRequestHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_CHAT_OPT_IN,oCallHandler)},AxiomCommManager.prototype.SendBanRequest=function(cName,oCallHandler,iShowUserKey,iChatRoomKey,bBan){oCallHandler&&this.SetBanRequestHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_SHOWUSER_KEY]=iShowUserKey,oJSON[MSG_ATTR_CHATROOM_KEY]=iChatRoomKey,oJSON[MSG_ATTR_BAN_USER]=bBan?1:0,this._sendCommand(cName,MSG_CHAT_BAN_TOGGLE_USER,oJSON,MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.SetBanRequestHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_CHAT_BAN_TOGGLE_USER,oCallHandler)},AxiomCommManager.prototype.SendPauseChatRequest=function(cName,oCallHandler,bPause,iChatRoomKey,iChatRoomDetailKey){oCallHandler&&this.SetSendPauseRequestHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_PAUSE_CHAT]=bPause?1:0,oJSON[MSG_ATTR_CHATROOM_KEY]=iChatRoomKey,oJSON[MSG_ATTR_CHATROOMDETAIL_KEY]=iChatRoomDetailKey,this._sendCommand(cName,MSG_CHAT_PAUSE_CHAT,oJSON,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetSendPauseRequestHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_CHAT_PAUSE_CHAT,oCallHandler)},AxiomCommManager.prototype.SendBannedUserListRequest=function(cName,oCallHandler,iChatRoomKey){oCallHandler&&this.SendBannedUserListHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_CHATROOM_KEY]=iChatRoomKey,this._sendCommand(cName,MSG_GET_BANNED_USER_LIST,oJSON,MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.SendBannedUserListHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_GET_BANNED_USER_LIST,oCallHandler)},AxiomCommManager.prototype.ReloadWebcast=function(cName,oCallHandler){oCallHandler&&this.SetReloadHandler(cName,oCallHandler),this._sendCommand(cName,MSG_RELOAD_WEBCAST,null,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetReloadHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_RELOAD_WEBCAST,oCallHandler)},AxiomCommManager.prototype.StartWebcast=function(cName,oCallHandler){oCallHandler&&this.SetStartHandler(cName,oCallHandler),this._sendCommand(cName,MSG_START_WEBCAST,null,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetStartHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_START_WEBCAST,oCallHandler)},AxiomCommManager.prototype.StopWebcast=function(cName,oCallHandler,bExitAction,bSetOnDemand){oCallHandler&&this.SetStopHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_DO_EXIT_ACTION]=bExitAction?1:0,oJSON[MSG_ATTR_SET_ONDEMAND]=bSetOnDemand?1:0,this._sendCommand(cName,MSG_STOP_WEBCAST,oJSON,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetStopHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_STOP_WEBCAST,oCallHandler)},AxiomCommManager.prototype.GetStatistics=function(cName,iShowUserKey,oCallHandler){oCallHandler&&this.SetStatisticsHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_SHOWUSER_KEY]=iShowUserKey,this._sendCommand(cName,MSG_GET_USER_STATISTICS,oJSON)},AxiomCommManager.prototype.SetStatisticsHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_USER_STATISTICS,oCallHandler)},AxiomCommManager.prototype.DisplaySlide=function(cName,oCallHandler,iSlideKey,iSlideType,bChapter,iSlideFlags){oCallHandler&&this.SetDisplaySlideHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_SLIDE_KEY]=iSlideKey,oJSON[MSG_ATTR_SLIDE_TYPE]=iSlideType,oJSON[MSG_ATTR_SLIDE_CHAPTER]=bChapter,oJSON[MSG_ATTR_SLIDE_FLAGS]=iSlideFlags,this._sendCommand(cName,MSG_SLIDE_DISPLAY,oJSON,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetDisplaySlideHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_SLIDE_DISPLAY,oCallHandler)},AxiomCommManager.prototype.DisplaySlideAnimation=function(cName,oCallHandler,iSlideKey,iDirection){oCallHandler&&this.SetDisplaySlideAnimationHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_SLIDE_KEY]=iSlideKey,oJSON[MSG_ATTR_SLIDE_ANIMATION_DIRECTION]=iDirection,this._sendCommand(cName,MSG_SLIDE_ANIMATION_ADVANCE,oJSON,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetDisplaySlideAnimationHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_SLIDE_ANIMATION_ADVANCE,oCallHandler)},AxiomCommManager.prototype.DisplayPoll=function(cName,oCallHandler,iPollKey){oCallHandler&&this.SetDisplaySlideHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_POLL_KEY]=iPollKey,this._sendCommand(cName,MSG_POLL_DISPLAY,oJSON,MQ_MESSAGEFILTER_ALL)},AxiomCommManager.prototype.SetDisplayPollHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_POLL_DISPLAY,oCallHandler)},AxiomCommManager.prototype.SendPollResponse=function(cName,oCallHandler,iUserKey,cParams){oCallHandler&&this.SetPollResponseHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_SHOWUSER_KEY]=iUserKey,oJSON[MSG_ATTR_PARAMS]=cParams,this._sendCommand(cName,MSG_POLL_RESPONSE,oJSON,MQ_MESSAGEFILTER_SPEAKER)},AxiomCommManager.prototype.SetPollResponseHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_POLL_SUMMARY,oCallHandler)},AxiomCommManager.prototype.AddSource=function(cName,oCallHandler,iSourceKey,iMediaType){oCallHandler&&this.SetAddSourceHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_SCENE_MEDIA_TYPE]=iMediaType!=AXIOM_MEDIA_AUDIO&&iMediaType!=AXIOM_MEDIA_VIDEO?AXIOM_MEDIA_BOTH:iMediaType,oJSON[MSG_ATTR_INPUT_KEY]=iSourceKey,this._sendCommand(cName,MSG_COMPOSITING_ADD_INPUT,oJSON)},AxiomCommManager.prototype.SetAddSourceHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_COMPOSITING_ADD_INPUT,oCallHandler)},AxiomCommManager.prototype.RemoveSource=function(cName,oCallHandler,iSourceKey,iMediaType){oCallHandler&&this.SetRemoveSourceHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_SCENE_MEDIA_TYPE]=iMediaType!=AXIOM_MEDIA_AUDIO&&iMediaType!=AXIOM_MEDIA_VIDEO?AXIOM_MEDIA_BOTH:iMediaType,oJSON[MSG_ATTR_INPUT_KEY]=iSourceKey,this._sendCommand(cName,MSG_COMPOSITING_REMOVE_INPUT,oJSON)},AxiomCommManager.prototype.SetRemoveSourceHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_COMPOSITING_REMOVE_INPUT,oCallHandler)},AxiomCommManager.prototype.SetSource=function(cName,oCallHandler,iSourceKey){oCallHandler&&this.SetSetSourceHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_SCENE_MEDIA_TYPE]=AXIOM_MEDIA_BOTH,oJSON[MSG_ATTR_INPUTS_LIST]=[iSourceKey],this._sendCommand(cName,MSG_COMPOSITING_SET_INPUT,oJSON)},AxiomCommManager.prototype.SetSetSourceHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_COMPOSITING_SET_INPUT,oCallHandler)},AxiomCommManager.prototype.SetScene=function(cName,oCallHandler,iSceneKey){oCallHandler&&this.SetAddToSceneHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_SCENE_KEY]=iSceneKey,oJSON[MSG_ATTR_SCENE_MEDIA_TYPE]=AXIOM_MEDIA_BOTH,this._sendCommand(cName,MSG_COMPOSITING_SET_SCENE,oJSON)},AxiomCommManager.prototype.GetSceneInputs=function(cName,oCallHandler){oCallHandler&&this.GetSceneInputsHandler(cName,oCallHandler),this._sendCommand(cName,MSG_GET_SCENE_SELECTED_INPUT_LIST,null)},AxiomCommManager.prototype.GetSceneInputsHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_GET_SCENE_SELECTED_INPUT_LIST,oCallHandler)},AxiomCommManager.prototype.AddToScene=function(cName,oCallHandler,iSceneKey,iMediaType,aInputs,iMode){oCallHandler&&this.SetAddToSceneHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_SCENE_KEY]=iSceneKey,oJSON[MSG_ATTR_SCENE_MEDIA_TYPE]=iMediaType,oJSON[MSG_ATTR_INPUTS_LIST]=aInputs,oJSON[MSG_ATTR_SCENE_MODE]=iMode||SET_SCENE_MODE_BY_POSITION,this._sendCommand(cName,MSG_COMPOSITING_SET_SCENE,oJSON)},AxiomCommManager.prototype.SetAddToSceneHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_COMPOSITING_SET_SCENE,oCallHandler)},AxiomCommManager.prototype.SetSceneAutoSwitch=function(cName,oCallHandler,iSceneKey,bAutoSwitch){oCallHandler&&this.SetSceneAutoSwitchHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_SCENE_KEY]=iSceneKey,oJSON[MSG_ATTR_AUTOSWITCH]=bAutoSwitch,this._sendCommand(cName,MSG_COMPOSITING_SET_SCENE_AUTOSWITCH,oJSON)},AxiomCommManager.prototype.SetSceneAutoSwitchHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_COMPOSITING_SET_SCENE_AUTOSWITCH,oCallHandler)},AxiomCommManager.prototype.SetFailoverInputHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_COMPOSITING_FAILOVER_INPUT,oCallHandler)},AxiomCommManager.prototype.SetFailoverInput=function(cName,oCallHandler,iInputKey,iFailoverKey){var oJSON=new JSONObject;oJSON[MSG_ATTR_INPUT_KEY]=iInputKey,oJSON[MSG_ATTR_FAILOVER_INPUT_KEY]=iFailoverKey,this._sendCommand(cName,MSG_COMPOSITING_SET_FAILOVER_INPUT,oJSON)},AxiomCommManager.prototype.ManualFailoverInput=function(cName,oCallHandler,iInputKey){var oJSON=new JSONObject;oJSON[MSG_ATTR_INPUT_KEY]=iInputKey,this._sendCommand(cName,MSG_COMPOSITING_MANUAL_FAILOVER,oJSON)},AxiomCommManager.prototype.SetMixMinusInput=function(cName,oCallHandler,iInputKey,iStafferInputKey){var oJSON=new JSONObject;oJSON[MSG_ATTR_INPUT_KEY]=iInputKey,oJSON[MSG_ATTR_STAFFER_INPUT_KEY]=iStafferInputKey,this._sendCommand(cName,MSG_COMPOSITING_MIX_MINUS,oJSON)},AxiomCommManager.prototype.ToggleAudio=function(cName,oCallHandler,iInputKey,bMute){oCallHandler&&this.SetAudioFilterHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_INPUT_KEY]=iInputKey,oJSON[MSG_ATTR_AUDIO_FILTER_MUTE]=bMute,this._sendCommand(cName,MSG_SET_AUDIO_FILTER,oJSON)},AxiomCommManager.prototype.SetVolume=function(cName,oCallHandler,iInputKey,iValue){oCallHandler&&this.SetAudioFilterHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_INPUT_KEY]=iInputKey,oJSON[MSG_ATTR_AUDIO_FILTER_VOLUME]=iValue,this._sendCommand(cName,MSG_SET_AUDIO_FILTER,oJSON)},AxiomCommManager.prototype.SetBass=function(cName,oCallHandler,iInputKey,iValue){oCallHandler&&this.SetAudioFilterHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_INPUT_KEY]=iInputKey,oJSON[MSG_ATTR_AUDIO_FILTER_BASS]=iValue,this._sendCommand(cName,MSG_SET_AUDIO_FILTER,oJSON)},AxiomCommManager.prototype.SetTreble=function(cName,oCallHandler,iInputKey,iValue){oCallHandler&&this.SetAudioFilterHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_INPUT_KEY]=iInputKey,oJSON[MSG_ATTR_AUDIO_FILTER_TREBLE]=iValue,this._sendCommand(cName,MSG_SET_AUDIO_FILTER,oJSON)},AxiomCommManager.prototype.SetHiPass=function(cName,oCallHandler,iInputKey,iValue){oCallHandler&&this.SetAudioFilterHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_INPUT_KEY]=iInputKey,oJSON[MSG_ATTR_AUDIO_FILTER_HIPASS]=iValue,this._sendCommand(cName,MSG_SET_AUDIO_FILTER,oJSON)},AxiomCommManager.prototype.SetLowPass=function(cName,oCallHandler,iInputKey,iValue){oCallHandler&&this.SetAudioFilterHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_INPUT_KEY]=iInputKey,oJSON[MSG_ATTR_AUDIO_FILTER_LOWPASS]=iValue,this._sendCommand(cName,MSG_SET_AUDIO_FILTER,oJSON)},AxiomCommManager.prototype.SetAudioFilters=function(cName,oCallHandler,iInputKey,iVolume,iBass,iTreble,iHiPass,iLowPass){oCallHandler&&this.SetAudioFilterHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_INPUT_KEY]=iInputKey,oJSON[MSG_ATTR_AUDIO_FILTER_VOLUME]=iVolume,oJSON[MSG_ATTR_AUDIO_FILTER_BASS]=iBass,oJSON[MSG_ATTR_AUDIO_FILTER_TREBLE]=iTreble,oJSON[MSG_ATTR_AUDIO_FILTER_HIPASS]=iHiPass,oJSON[MSG_ATTR_AUDIO_FILTER_LOWPASS]=iLowPass,this._sendCommand(cName,MSG_SET_AUDIO_FILTER,oJSON)},AxiomCommManager.prototype.SetAudioFilterHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_SET_AUDIO_FILTER,oCallHandler)},AxiomCommManager.prototype.ToggleVideo=function(cName,oCallHandler,iInputKey,bShow){oCallHandler&&this.SetToggleVideoHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_INPUT_KEY]=iInputKey,oJSON[MSG_ATTR_SHOW_VIDEO]=bShow,this._sendCommand(cName,MSG_SET_VIDEO_MUTE,oJSON)},AxiomCommManager.prototype.SetToggleVideoHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_SET_VIDEO_MUTE,oCallHandler)},AxiomCommManager.prototype.RewindMedia=function(cName,oCallHandler,iInputKey){oCallHandler&&this.SetRewindMediaHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_INPUT_KEY]=iInputKey,this._sendCommand(cName,MSG_COMPOSITING_REWIND_INPUT,oJSON)},AxiomCommManager.prototype.SetRewindMediaHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_COMPOSITING_REWIND_INPUT,oCallHandler)},AxiomCommManager.prototype.SendGenericMessage=function(cName,oCallHandler,oData,iFilterFlag){oCallHandler&&this.SetSendGenericMessageHandler(cName,oCallHandler),oData instanceof Object||"object"==typeof oData?cData=JSON.stringify(oData):cData=oData;var oJSON=new JSONObject(cData);this._sendCommand(cName,MSG_GENERIC_USER_MESSAGE,oJSON,iFilterFlag||null)},AxiomCommManager.prototype.SetSendGenericMessageHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_GENERIC_USER_MESSAGE,oCallHandler)},AxiomCommManager.prototype.UpdateInputConfig=function(cName,oCallHandler,iInputKey,cTitle,iInputType,bAutoAir,iStaffKey,iFrameSizeKey,iMediaMode){oCallHandler&&this.SetUpdateInputConfigHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_INPUT_KEY]=iInputKey,oJSON[MSG_INPUT_TITLE_TAG]=cTitle,oJSON[MSG_INPUT_CONNETION_TYPE_KEY_TAG]=iInputType,oJSON[MSG_INPUT_AUTO_SELECT_TO_AIR_TAG]=bAutoAir,oJSON[MSG_SPEAKER_EVENT_STAFF_KEY]=iStaffKey,oJSON[MSG_INPUT_FRAME_SIZE_KEY]=iFrameSizeKey,oJSON[MSG_INPUT_MEDIA_MODE]=iMediaMode,this._sendCommand(cName,MSG_INPUT_CHANGED,oJSON)},AxiomCommManager.prototype.SetUpdateInputConfigHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_INPUT_CHANGED,oCallHandler)},AxiomCommManager.prototype.DeleteInput=function(cName,oCallHandler,iInputKey){oCallHandler&&this.SetDeleteInputHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_INPUT_KEY]=iInputKey,oJSON[MSG_ATTR_EXEC_SQL]=1,this._sendCommand(cName,MSG_INPUT_DELETE,oJSON)},AxiomCommManager.prototype.SetDeleteInputHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_INPUT_DELETE,oCallHandler)},AxiomCommManager.prototype.UpdateSlides=function(cName,oCallHandler,cType,aSlideKeys){oCallHandler&&this.SetUpdateSlidesHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_SLIDE_CHANGE_TYPE]=cType,aSlideKeys&&(oJSON[MSG_SLIDE_CHANGE_KEYS]=aSlideKeys),this._sendCommand(cName,MSG_SLIDES_CHANGED,oJSON)},AxiomCommManager.prototype.SetUpdateSlidesHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_SLIDES_CHANGED,oCallHandler)},AxiomCommManager.prototype.ConfigUpdate=function(cName,oCallHandler,oData,iFilterFlag){oCallHandler&&this.SetConfigUpdateHandler(cName,oCallHandler),iFilterFlag=parseInt(iFilterFlag),(isNaN(iFilterFlag)||iFilterFlag<=0)&&(iFilterFlag=MQ_MESSAGEFILTER_ALL),oData instanceof JSONObject?this._sendCommand(cName,MSG_GENERIC_CONFIG_UPDATE,oData,iFilterFlag):(oData instanceof Object||"object"==typeof oData?cData=JSON.stringify(oData):cData=oData,this._sendCommand(cName,MSG_GENERIC_CONFIG_UPDATE,new JSONObject(cData),iFilterFlag))},AxiomCommManager.prototype.SetConfigUpdateHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_GENERIC_CONFIG_UPDATE,oCallHandler)},AxiomCommManager.prototype.SendConsoleChat=function(cName,cMessage,iFromEventStaffKey,iToEventStaffKey){var oJSON=new JSONObject;oJSON[MSG_PRESENTERCHAT_FROM_EVENT_STAFF_KEY]=iFromEventStaffKey,oJSON[MSG_PRESENTERCHAT_TO_EVENT_STAFF_KEY]=iToEventStaffKey,oJSON[MSG_PRESENTERCHAT_TEXT]=cMessage.replace(/'/g,"'"),this._sendCommand(cName,MSG_PRESENTERCHAT_POSTMSG,oJSON)},AxiomCommManager.prototype.GetMessageQue=function(cName,oCallHandler){var oJSON=new JSONObject;oJSON[MSG_ATTR_MESSAGE_ID]=0,this._sendCommand(cName,MSG_GET_MESSAGE_QUEUE_MSGS,oJSON)},AxiomCommManager.prototype.GetCurrentState=function(cName,oCallHandler){oCallHandler&&this.SetCurrentStateHandler(cName,oCallHandler),this._sendCommand(cName,MSG_GET_CURRENT_WEBCAST_STATE)},AxiomCommManager.prototype.SetCurrentStateHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_GET_CURRENT_WEBCAST_STATE,oCallHandler)},AxiomCommManager.prototype.GetFullState=function(cName,oCallHandler){oCallHandler&&this.SetStateHandler(cName,oCallHandler),this._sendCommand(cName,MSG_GET_STATE_ALL)},AxiomCommManager.prototype.SetStateHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_GET_STATE_ALL,oCallHandler)},AxiomCommManager.prototype.GetStaffList=function(cName,oCallHandler){oCallHandler&&this.SetStaffListHandler(cName,oCallHandler),this._sendCommand(cName,MSG_GET_SPEAKER_LIST)},AxiomCommManager.prototype.SetStaffListHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_GET_SPEAKER_LIST,oCallHandler)},AxiomCommManager.prototype.GetInputs=function(cName,oCallHandler){oCallHandler&&this.SetInputsHandler(cName,oCallHandler),this._sendCommand(cName,MSG_GET_STATE_INPUTS)},AxiomCommManager.prototype.SetInputsHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_GET_STATE_INPUTS,oCallHandler)},AxiomCommManager.prototype.GetOutputs=function(cName,oCallHandler){oCallHandler&&this.SetOutputHandler(cName,oCallHandler),this._sendCommand(cName,MSG_GET_STATE_OUTPUTS)},AxiomCommManager.prototype.SetOutputHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_GET_STATE_OUTPUTS,oCallHandler)},AxiomCommManager.prototype.GetScenes=function(cName,oCallHandler){oCallHandler&&this.SetSceneHandler(cName,oCallHandler),this._sendCommand(cName,MSG_GET_SCENE_LIST)},AxiomCommManager.prototype.SetSceneHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_GET_SCENE_LIST,oCallHandler)},AxiomCommManager.prototype.GetOverlayState=function(cName,oCallHandler){oCallHandler&&this.SetOverlayStateHandler(cName,oCallHandler),this._sendCommand(cName,MSG_GET_STATE_OVERLAY)},AxiomCommManager.prototype.SetOverlayStateHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_GET_STATE_OVERLAY,oCallHandler)},AxiomCommManager.prototype.SetOverlayEventHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_COMPOSITING_OVERLAY_EVENT,oCallHandler)},AxiomCommManager.prototype.GetOutputViewerDetails=function(cName,oCallHandler,iOutputKey,iLevel){oCallHandler&&this.SetOutputViewerDetailHandler(cName,oCallHandler);var oJSON=new JSONObject;oJSON[MSG_ATTR_OUTPUT_KEY]=iOutputKey,oJSON[MSG_ATTR_ISSUE_LEVEL]=iLevel,this._sendCommand(cName,MSG_GET_OUTPUT_VIEWER_DETAILS,oJSON)},AxiomCommManager.prototype.SetOutputViewerDetailHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_GET_OUTPUT_VIEWER_DETAILS,oCallHandler)},AxiomCommManager.prototype.GetIACViewerSummary=function(cName,oCallHandler){oCallHandler&&this.SetIACViewerSummaryHandler(cName,oCallHandler),this._sendCommand(cName,MSG_GET_IAC_VIEWER_SUMMARY,null)},AxiomCommManager.prototype.SetIACViewerSummaryHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_GET_IAC_VIEWER_SUMMARY,oCallHandler)},AxiomCommManager.prototype.SetInputUpdateHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_MEDIA_PUBLISH,oCallHandler),this._setHandler(cName,MSG_MEDIA_UNPUBLISH,oCallHandler),this._setHandler(cName,MSG_MEDIA_METADATA,oCallHandler)},AxiomCommManager.prototype.SetScreenSharePublishHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_SCREENSHARE_PUBLISH,oCallHandler)},AxiomCommManager.prototype.SendScreenShareUnPublish=function(cName,oCallHandler,iStreamID,iEventAttendeeKey){var oJSON=new JSONObject;oJSON[MSG_ATTR_SCREEN_SHARE_STREAM_ID]=iStreamID,oJSON[MSG_ATTR_SCREEN_SHARE_STATUS]=!1,oJSON[MSG_ATTR_SCREEN_SHARE_FORCE_CLOSE]=!0,this._sendCommand(cName,MSG_SCREENSHARE_UNPUBLISH,oJSON)},AxiomCommManager.prototype.SetScreenShareUnPublishHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_SCREENSHARE_UNPUBLISH,oCallHandler)},AxiomCommManager.prototype.SetScreenShareMetadataHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_SCREENSHARE_METADATA,oCallHandler)},AxiomCommManager.prototype.SetStaffUpdateHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_SPEAKER_CONNECT_WS,oCallHandler)},AxiomCommManager.prototype.SetConsoleChatHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_PRESENTERCHAT_POSTMSG,oCallHandler)},AxiomCommManager.prototype.SetEngineReadyHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_VIEWER_ENGINE_RUNNING,oCallHandler)},AxiomCommManager.prototype.SetExitActionHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_DO_EXIT_ACTION,oCallHandler)},AxiomCommManager.prototype.SetSegmentChangeHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_ENCODINGPROFILE_SEGMENT_CHANGE,oCallHandler)},AxiomCommManager.prototype.SetScreenShareSegmentChangeHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_SCREENSHARE_ENCODINGPROFILE_SEGMENT_CHANGE,oCallHandler)},AxiomCommManager.prototype.SetThumbnailPreviewUpdateHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_INPUT_THUMBNAIL,oCallHandler)},AxiomCommManager.prototype.SetInputSIPStatusHandler=function(cName,oCallHandler){this._setHandler(cName,MSG_INPUT_SIP_STATUS,oCallHandler)},AxiomCommManager.prototype.SetTimeUpdateHandler=function(cName,oCallHandler){this._setHandler(cName,CONSOLE_MSG_TIME_UPDATE,oCallHandler),this._postMessage({type:"startTime",name:cName})},AxiomCommManager.prototype.RemoveTimeUpdateHandler=function(cName,oCallHandler){this._postMessage({type:"stopTime",name:cName}),this._removeHandler(cName,CONSOLE_MSG_TIME_UPDATE,oCallHandler)},AxiomCommManager.prototype.SetTimeMediaInputUpdateHandler=function(cName,oCallHandler){this._setHandler(cName,CONSOLE_MSG_TIME_MEDIA_INPUT_UPDATE,oCallHandler),this._postMessage({type:"startTimeMediaInput",name:cName})},AxiomCommManager.prototype.RemoveTimeMediaInputUpdateHandler=function(cName,oCallHandler){this._postMessage({type:"stopTimeMediaInput",name:cName}),this._removeHandler(cName,CONSOLE_MSG_TIME_MEDIA_INPUT_UPDATE,oCallHandler)},AxiomCommManager.prototype.SetStreamHealthHandler=function(cName,oCallHandler){this._setHandler(cName,CONSOLE_MSG_STREAM_HEALTH,oCallHandler),this._postMessage({type:"startStreamHealth",name:cName})},AxiomCommManager.prototype.RemoveStreamHealthHandler=function(cName,oCallHandler){this._postMessage({type:"stopStreamHealth",name:cName}),this._removeHandler(cName,CONSOLE_MSG_STREAM_HEALTH,oCallHandler)},AxiomCommManager.prototype.SetViewerCountHandler=function(cName,oCallHandler){this._setHandler(cName,CONSOLE_MSG_VIEWER_COUNT,oCallHandler),this._postMessage({type:"startViewerCount",name:cName})},AxiomCommManager.prototype.RemoveViewerCountHandler=function(cName,oCallHandler){this._postMessage({type:"stopViewerCount",name:cName}),this._removeHandler(cName,CONSOLE_MSG_VIEWER_COUNT,oCallHandler)},AxiomCommManager.prototype.SetSlideInputReadyHandler=function(cName,oCallHandler){this._setHandler(cName,CONSOLE_MSG_SLIDE_INPUT_READY,oCallHandler),this._postMessage({type:"startSlideInputReady",name:cName})},AxiomCommManager.prototype.RemoveSlideInputReadyHandler=function(cName,oCallHandler){this._postMessage({type:"stopSlideInputReady",name:cName}),this._removeHandler(cName,CONSOLE_MSG_SLIDE_INPUT_READY,oCallHandler)},AxiomCommManager.prototype.SetInputStatsHandler=function(cName,oCallHandler){this._setHandler(cName,CONSOLE_MSG_INPUT_STATS,oCallHandler),this._postMessage({type:"startInputStats",name:cName})},AxiomCommManager.prototype.RemoveInputStatsHandler=function(cName,oCallHandler){this._postMessage({type:"stopInputStats",name:cName}),this._removeHandler(cName,CONSOLE_MSG_INPUT_STATS,oCallHandler)},AxiomCommManager.prototype.SetOutputStatsHandler=function(cName,oCallHandler){this._setHandler(cName,CONSOLE_MSG_OUTPUT_STATS,oCallHandler),this._postMessage({type:"startOutputStats",name:cName})},AxiomCommManager.prototype.RemoveOutputStatsHandler=function(cName,oCallHandler){this._postMessage({type:"stopOutputStats",name:cName}),this._removeHandler(cName,CONSOLE_MSG_OUTPUT_STATS,oCallHandler)},AxiomCommManager.prototype.SetFileInputReadyHandler=function(cName,oCallHandler,cInputKey){this._setHandler(cName,CONSOLE_MSG_FILE_INPUT_READY+"_"+cInputKey,oCallHandler),this._postMessage({type:"startFileInputReady",name:cName,key:cInputKey})},AxiomCommManager.prototype.RemoveFileInputReadyHandler=function(cName,oCallHandler,cInputKey){this._postMessage({type:"stopFileInputReady",name:cName,key:cInputKey}),this._removeHandler(cName,CONSOLE_MSG_FILE_INPUT_READY+"_"+cInputKey,oCallHandler)},AxiomCommManager.prototype.SetAttendanceVerificationStatusHandler=function(cName,oCallHandler){this._setHandler(cName,CONSOLE_MSG_ATTENDANCE_VERIFICATION_STATUS,oCallHandler),this._postMessage({type:"startAttendanceVerificationStatus",name:cName})},AxiomCommManager.prototype.RemoveAttendanceVerificationStatusHandler=function(cName,oCallHandler){this._postMessage({type:"stopAttendanceVerificationStatus",name:cName}),this._removeHandler(cName,CONSOLE_MSG_ATTENDANCE_VERIFICATION_STATUS,oCallHandler)},AxiomCommManager.prototype.GetHandler=function(cName,cCall){if(cName&&cCall){var oHandler=this.m_oCallHandlers[cName];if(oHandler&&oHandler[cCall])return oHandler[cCall].slice(0)}return null},AxiomCommManager.prototype.RemoveHandler=function(cName,cCall,oCallHandler){this._removeHandler(cName,cCall,oCallHandler)},AxiomCommManager.prototype._setHandler=function(cName,cCall,oCallHandler){if(cName&&cCall&&oCallHandler){var oHandler=this.m_oCallHandlers[cName];oHandler||(oHandler={}),oHandler[cCall]||(oHandler[cCall]=new Array),oHandler[cCall].push(oCallHandler),this.m_oCallHandlers[cName]=oHandler}},AxiomCommManager.prototype._removeHandler=function(cName,cCall,oCallHandler){if(cName&&cCall&&oCallHandler&&this.m_oCallHandlers[cName]&&this.m_oCallHandlers[cName][cCall])for(var aCalls=this.m_oCallHandlers[cName][cCall],iLup=0;iLup<aCalls.length;)aCalls[iLup].call==oCallHandler.call?aCalls.splice(iLup,1):iLup++},AxiomCommManager.prototype._sendCommand=function(cName,cCommand,oData,iFilterFlag,bBuffer){iFilterFlag=parseInt(iFilterFlag);var oSend={type:"sendCommand",name:cName,command:cCommand,data:oData,buffer:bBuffer};!isNaN(iFilterFlag)&&iFilterFlag>=0&&(oSend.filter=iFilterFlag),this._postMessage(oSend)},AxiomCommManager.prototype._postMessage=function(oMessage){this.m_oWorker?this.m_oWorker.postMessage(oMessage):this.m_aPendingMessages.push(oMessage)},AxiomCommManager.prototype._onWorkerError=function(evt){if(console&&console.warn){var cString="---------------------------------------------------------\n AxiomCommManager _onWorkerError\n evt: "+JSON.stringify(evt)+"\n---------------------------------------------------------";console.warn(cString)}},AxiomCommManager.prototype._onWorkerMessage=function(evt){if(evt.data){var oData=evt.data;switch(oData.type){case"message":this._processMessage(oData);break;case"stats":this._processStats(oData);break;case"error":this._dispatchEvent("axiomError",oData);break;case"status":this._dispatchEvent("axiomStatus",oData)}}},AxiomCommManager.prototype._processMessage=function(oData){try{var oMsg,oMsgData=null;if(oData.data?oMsgData=oData.data:!oData.data&&oData.Data&&(oMsgData=oData),!(oMsg=oMsgData instanceof Object?oMsgData:JSON.parse(oMsgData)))return;oMsg[MSG_ATTR_MESSAGE_TAG]?this._processMessageData(oData.name,oMsg):oMsg[MSG_ATTR_QUERY_TAG]&&this._processQueryResponse(oData.name,oMsg)}catch(e){console.warn("---------------------------------------------------------"),console.warn("AxiomCommManager _processMessageError"),console.warn(JSON.stringify(e)),console.warn("---------------------------------------------------------")}},AxiomCommManager.prototype._processMessageData=function(cName,oMsg,iFlag){var oData=null,oReturn=null,iMessageType=oMsg[MSG_ATTR_MESSAGE_TAG];switch(!this.m_bEngineRecovered&&oMsg.hasOwnProperty(MSG_ATTR_LASTMESSAGE_ID)&&(this.m_iLastID>oMsg[MSG_ATTR_LASTMESSAGE_ID]?(this.m_bEngineRecovered=!0,this.m_iLastID=0):this.m_iLastID=oMsg[MSG_ATTR_LASTMESSAGE_ID]),iMessageType&MSG_CLASS_MASK){case MSG_IS_CONNECTION_EVENT_MASK:iMessageType==MSG_SPEAKER_CONNECT_WS&&oMsg[MSG_ATTR_MESSAGE_DATA]?0==(oReturn=new AxiomStaff(oMsg[MSG_ATTR_MESSAGE_DATA])).EventAttendeeKey&&0==oReturn.UserKey&&(oReturn=null):iMessageType==MSG_VIEWER_ENGINE_RUNNING?((oReturn={}).Running=oMsg[MSG_ATTR_MESSAGE_DATA][MSG_ENGINE_RUNNING_TAG],oReturn.EngineRecovered=this.m_bEngineRecovered,this.m_bEngineRecovered=!1):iMessageType==MSG_ATTENDANCE_VERIFICATION_CHECK?oReturn=new AxiomAttendanceVerificationCheck(oMsg):iMessageType==MSG_ATTENDANCE_VERIFICATION_RESUME?oReturn={}:iMessageType==MSG_ATTENDANCE_VERIFICATION_PAUSE&&(oReturn=new AxiomAttendanceVerificationPause(oMsg));break;case MSG_IS_STARTSTOP_EVENT_MASK:iMessageType==MSG_START_WEBCAST?oReturn=new AxiomStart(oMsg):iMessageType==MSG_STOP_WEBCAST?oReturn=new AxiomStop(oMsg):iMessageType==MSG_DO_EXIT_ACTION?oReturn=new AxiomExit(oMsg):iMessageType==MSG_SCREENSHARE_START||iMessageType==MSG_SCREENSHARE_END?(oData=oMsg[MSG_ATTR_MESSAGE_DATA],(oReturn={}).EventAttendeeKey=oData[MSG_ATTR_EVENTATTENDEE_KEY],oReturn.Success=oData.Success):iMessageType==MSG_SCREENSHARE_MEDIAREADY&&(oReturn=new AxiomScreenShareReady(oMsg));break;case MSG_IS_SLIDE_MASK:iMessageType==MSG_SLIDE_DISPLAY?oReturn=new AxiomSlide(oMsg):iMessageType==MSG_SLIDE_ANIMATION_ADVANCE&&(oReturn=new AxiomSlideAnimation(oMsg));break;case MSG_IS_POLL_MASK:iMessageType==MSG_POLL_DISPLAY?oReturn=new AxiomPoll(oMsg):iMessageType==MSG_POLL_SUMMARY&&(oReturn=new AxiomPollResponse(oMsg));break;case MSG_IS_PANEL_COMMAND_MASK:iMessageType==MSG_PANELCOMMAND_MSG&&(oReturn=new AxiomPanelCommand(oMsg));break;case MSG_IS_COMPOSITING_MASK:iMessageType==MSG_COMPOSITING_ADD_INPUT||iMessageType==MSG_COMPOSITING_REMOVE_INPUT?oReturn=new AxiomCompositeInput(oMsg):iMessageType==MSG_COMPOSITING_SET_SCENE||iMessageType==MSG_COMPOSITING_SET_INPUT?oReturn=new AxiomComposite(oMsg):iMessageType==MSG_COMPOSITING_OVERLAY_EVENT?oReturn=new AxiomCompositeOverlay(oMsg):iMessageType==MSG_COMPOSITING_FAILOVER_INPUT&&(oReturn=oMsg[MSG_ATTR_MESSAGE_DATA]);break;case MSG_IS_MEDIA_STATUS_MASK:iMessageType==MSG_ENCODINGPROFILE_SEGMENT_CHANGE?oReturn=new AxiomSegment(oMsg):iMessageType==MSG_SCREENSHARE_ENCODINGPROFILE_SEGMENT_CHANGE?oReturn=new AxiomScreenShareSegment(oMsg):iMessageType==MSG_MEDIA_PUBLISH||iMessageType==MSG_MEDIA_METADATA||iMessageType==MSG_MEDIA_UNPUBLISH?oReturn=new AxiomInput(oMsg[MSG_ATTR_MESSAGE_DATA]):iMessageType==MSG_SCREENSHARE_METADATA?oReturn=new AxiomScreenShareMetadata(oMsg[MSG_ATTR_MESSAGE_DATA]):iMessageType==MSG_INPUT_THUMBNAIL?oReturn=new AxiomThumbnail(oMsg[MSG_ATTR_MESSAGE_DATA]):iMessageType==MSG_INPUT_SIP_STATUS&&(oReturn=new AxiomSIPStatus(oMsg[MSG_ATTR_MESSAGE_DATA]));break;case MSG_IS_SCREENSHARE_MEDIA_STATUS_MASK:iMessageType==MSG_SCREENSHARE_PUBLISH?oReturn=new AxiomScreenSharePublish(oMsg):iMessageType==MSG_SCREENSHARE_UNPUBLISH&&(oReturn=new AxiomScreenShareUnPublish(oMsg));break;case MSG_IS_PRESENTER_CHAT_MASK:iMessageType==MSG_PRESENTERCHAT_POSTMSG?oReturn=new AxiomConsoleChat(oMsg[MSG_ATTR_MESSAGE_DATA]):iMessageType==MSG_CHAT_ADD_MESSAGE?oReturn=new AxiomAddChat(oMsg[MSG_ATTR_MESSAGE_DATA],this.m_oSettings.LangLocaleID,this.m_oSettings.GMTOffset):iMessageType==MSG_CHAT_REMOVE_MESSAGE?oReturn=new AxiomRemoveChat(oMsg[MSG_ATTR_MESSAGE_DATA]):iMessageType==MSG_QA_QUESTIONSAVE||iMessageType==MSG_QA_QUESTIONDISTRIBUTE?oReturn=new AxiomQuestionSave(oMsg[MSG_ATTR_MESSAGE_DATA],this.m_oSettings.LangLocaleID,this.m_oSettings.GMTOffset):iMessageType==MSG_QA_ANSWERSAVE||iMessageType==MSG_QA_ANSWERSAVEMOD||iMessageType==MSG_QA_ANSWERSAVEATT?oReturn=new AxiomAnswerSave(oMsg[MSG_ATTR_MESSAGE_DATA],this.m_oSettings.LangLocaleID,this.m_oSettings.GMTOffset):iMessageType==MSG_QA_GENERALSTATUS?oReturn=new AxiomQuestionStatus(oMsg[MSG_ATTR_MESSAGE_DATA]):iMessageType==MSG_QA_QUESTIONSETPRIORITY?oReturn=new AxiomQuestionPriority(oMsg[MSG_ATTR_MESSAGE_DATA]):iMessageType==MSG_QA_QUESTIONSETASSIGNMENT?oReturn=new AxiomQuestionAssignment(oMsg[MSG_ATTR_MESSAGE_DATA]):iMessageType==MSG_QA_QUESTIONDELETE?oReturn=new AxiomQuestionDelete(oMsg[MSG_ATTR_MESSAGE_DATA]):iMessageType==MSG_QA_ANSWERDELETE?oReturn=new AxiomAnswerDelete(oMsg[MSG_ATTR_MESSAGE_DATA]):iMessageType==MSG_QA_FOLDER_CREATE||iMessageType==MSG_QA_FOLDER_UPDATE||iMessageType==MSG_QA_FOLDER_DELETE?oReturn=new AxiomQAFolder(oMsg[MSG_ATTR_MESSAGE_DATA]):iMessageType==MSG_QA_TAG_UPDATE?oReturn=new AxiomQATag(oMsg[MSG_ATTR_MESSAGE_DATA]):iMessageType==MSG_CHAT_BAN_TOGGLE_USER?oReturn=new AxiomChatUserBan(oMsg[MSG_ATTR_MESSAGE_DATA]):iMessageType==MSG_CHAT_PAUSE_CHAT?oReturn=new AxiomChatPause(oMsg[MSG_ATTR_MESSAGE_DATA]):iMessageType==MSG_CHAT_OPT_IN&&(oReturn=new AxiomChatOptIn(oMsg[MSG_ATTR_MESSAGE_DATA]));break;case MSG_IS_BROADCAST_EVENT_MASK:iMessageType==MSG_BROADCAST_INFO_MSG?(oData=oMsg[MSG_ATTR_MESSAGE_DATA],(oReturn={}).Message=oData[MSG_ATTR_BROADCAST_MESSAGE_TEXT],oReturn.TargetStaffKey=oData[MSG_ATTR_BROADCAST_MESSAGE_TARGET_KEY]):iMessageType==MSG_SET_AUDIO_FILTER?oReturn=new AxiomAudioFilter(oMsg):iMessageType==MSG_SET_VIDEO_MUTE&&(oReturn=new AxiomVideoToggle(oMsg));break;case MSG_IS_USER_MESSAGE_MASK:oReturn=oMsg[MSG_ATTR_MESSAGE_DATA];break;case MSG_IS_CONFIG_UPDATE_MASK:iMessageType==MSG_GENERIC_CONFIG_UPDATE?oReturn=oMsg[MSG_ATTR_MESSAGE_DATA]:iMessageType==MSG_INPUT_CHANGED?(oMsg[MSG_ATTR_MESSAGE_DATA][MSG_INPUT_CONNECT_OBJ]={},oMsg[MSG_ATTR_MESSAGE_DATA][MSG_INPUT_CONNECT_OBJ][MSG_INPUT_IS_CONNECTED]=!1,oMsg[MSG_ATTR_MESSAGE_DATA][MSG_INPUT_CREATED_BY_SYSTEM_TAG]=!1,oMsg[MSG_ATTR_MESSAGE_DATA][MSG_INPUT_KEY_TAG]=oMsg[MSG_ATTR_MESSAGE_DATA][MSG_ATTR_INPUT_KEY],oMsg[MSG_ATTR_MESSAGE_DATA][MSG_SPEAKER_EVENT_STAFF_KEY]=oMsg[MSG_ATTR_MESSAGE_DATA][MSG_SPEAKER_EVENT_STAFF_KEY],oMsg[MSG_ATTR_MESSAGE_DATA][MSG_INPUT_FRAME_SIZE_KEY]=oMsg[MSG_ATTR_MESSAGE_DATA][MSG_INPUT_FRAME_SIZE_KEY],oMsg[MSG_ATTR_MESSAGE_DATA][MSG_INPUT_MEDIA_MODE]=oMsg[MSG_ATTR_MESSAGE_DATA][MSG_INPUT_MEDIA_MODE],oReturn=new AxiomInput(oMsg[MSG_ATTR_MESSAGE_DATA])):iMessageType==MSG_INPUT_DELETE?(oReturn={}).Key=oMsg[MSG_ATTR_MESSAGE_DATA][MSG_ATTR_INPUT_KEY]:iMessageType==MSG_SLIDES_CHANGED?((oReturn={}).UpdateType=oMsg[MSG_ATTR_MESSAGE_DATA][MSG_SLIDE_CHANGE_TYPE],oMsg[MSG_ATTR_MESSAGE_DATA][MSG_SLIDE_CHANGE_KEYS]&&(oReturn.Keys=oMsg[MSG_ATTR_MESSAGE_DATA][MSG_SLIDE_CHANGE_KEYS])):iMessageType==MSG_RECORDING_LIMIT_NEAR?(oReturn={}).ExtendID=1*oMsg[MSG_ATTR_MESSAGE_DATA][MSG_ATTR_RECORDING_NOTIFY_ID]:iMessageType==MSG_RECORDING_LIMIT_EXTEND?(oReturn={}).ExtendID=1*oMsg[MSG_ATTR_MESSAGE_DATA][MSG_ATTR_RECORDING_NOTIFY_ID]:iMessageType==MSG_SCENE_BACKGROUND_LOAD&&((oReturn={}).FilePath=oMsg[MSG_ATTR_MESSAGE_DATA][MSG_ATTR_PATH]);break;case MSG_IS_ANALYTICS_MASK:iMessageType==MSG_ANALYTICS_STREAM?(oReturn=oMsg[MSG_ATTR_MESSAGE_DATA]).Time=oMsg[MSG_ATTR_TIMESTAMP_TAG]:iMessageType==MSG_ANALYTICS_USERLIST||iMessageType==MSG_ANALYTICS_USERLIST2||iMessageType==MSG_ANALYTICS_USERLIST3||iMessageType==MSG_ANALYTICS_USERSEARCH||iMessageType==MSG_ANALYTICS_SPECIFICUSERS?((oReturn={}).List=oMsg[MSG_ATTR_MESSAGE_DATA],oReturn.Time=oMsg[MSG_ATTR_TIMESTAMP_TAG]):iMessageType==MSG_ANALYTICS_USEREVENTS?oReturn=oMsg[MSG_ATTR_MESSAGE_DATA]:iMessageType==MSG_ANALYTICS_QUERYCODE&&(oReturn=oMsg[MSG_ATTR_MESSAGE_DATA])}oReturn&&this._dispatchMessage(cName,oMsg[MSG_ATTR_MESSAGE_TAG],oReturn)},AxiomCommManager.prototype._processQueryResponse=function(cName,oMsg){var oReturn=null;switch(oMsg[MSG_ATTR_QUERY_TAG]){case MSG_GET_CURRENT_WEBCAST_STATE:oReturn=AxiomCurrentState(oMsg);break;case MSG_GET_SPEAKER_LIST:oReturn=this._createStaffList(oMsg);break;case MSG_GET_STATE_INPUTS:oReturn=AxiomInputList(oMsg);break;case MSG_GET_STATE_OUTPUTS:oReturn=AxiomOutputList(oMsg);break;case MSG_GET_STATE_ALL:oReturn=AxiomFullState(oMsg);break;case MSG_GET_SCENE_LIST:oReturn=AxiomSceneList(oMsg);break;case MSG_GET_STATE_OVERLAY:oReturn=AxiomOverlayState(oMsg);break;case MSG_GET_OUTPUT_VIEWER_DETAILS:oReturn=AxiomOutputViewerDetails(oMSG[MSG_ATTR_QUERY_DATA]);break;case MSG_GET_IAC_VIEWER_SUMMARY:oReturn=AxiomIACViewerSummary(oMsg);break;case MSG_GET_BANNED_USER_LIST:oReturn=AxiomBannedChatUserKeyList(oMsg);break;case MSG_GET_SCENE_SELECTED_INPUT_LIST:(oReturn={}).SceneKey=null,oReturn.SceneInputs=AxiomSceneInputs(oMsg[MSG_ATTR_QUERY_DATA],null,!0),oReturn.AudioInputs=AxiomSceneInputs(oMsg[MSG_ATTR_QUERY_DATA],!0)}oReturn&&this._dispatchMessage(cName,oMsg[MSG_ATTR_QUERY_TAG],oReturn)},AxiomCommManager.prototype._processStats=function(oData){var oInput,oStat=oData.data;if(oStat.TimeUpdate&&this._dispatchMessage(oData.name,CONSOLE_MSG_TIME_UPDATE,oStat.TimeUpdate),oStat.AttendanceVerificationStatus&&this._dispatchMessage(oData.name,CONSOLE_MSG_ATTENDANCE_VERIFICATION_STATUS,oStat.AttendanceVerificationStatus),null!=oStat.ViewerCount&&this._dispatchMessage(oData.name,CONSOLE_MSG_VIEWER_COUNT,oStat.ViewerCount),oStat.StreamHealth&&this._dispatchMessage(oData.name,CONSOLE_MSG_STREAM_HEALTH,oStat.StreamHealth),oStat.InputStats&&this._dispatchMessage(oData.name,CONSOLE_MSG_INPUT_STATS,oStat.InputStats),oStat.OutputStats&&this._dispatchMessage(oData.name,CONSOLE_MSG_OUTPUT_STATS,oStat.OutputStats),oStat.SlideInputReady&&this._dispatchMessage(oData.name,CONSOLE_MSG_SLIDE_INPUT_READY,oStat.SlideInputReady),oStat.TimeMediaInputUpdate&&this._dispatchMessage(oData.name,CONSOLE_MSG_TIME_MEDIA_INPUT_UPDATE,oStat.TimeMediaInputUpdate),oStat.FileInputsReady)for(var oID in oStat.FileInputsReady)(oInput=oStat.FileInputsReady[oID])&&this._dispatchMessage(oData.name,CONSOLE_MSG_FILE_INPUT_READY+"_M"+oInput.Key,oInput)},AxiomCommManager.prototype._createStaffList=function(oData){for(var oStaff,iLup=0,oReturn={},aStaff=oData[MSG_ATTR_QUERY_DATA];iLup<aStaff.length;iLup++)oReturn["M"+(oStaff=new AxiomStaff(aStaff[iLup])).EventStaffKey]=oStaff;return oReturn},AxiomCommManager.prototype._dispatchMessage=function(cName,cCall,oItem){if(this.m_oCallHandlers[cName]&&this.m_oCallHandlers[cName][cCall])for(var oCall,aCalls=this.m_oCallHandlers[cName][cCall],iLup=0;iLup<aCalls.length;)try{(oCall=aCalls[iLup]).call(oItem),oCall.temp?aCalls.splice(iLup,1):iLup++}catch(e){console&&console.warn&&(oCall=aCalls[iLup],console.warn("AxiomCommManager _dispatchMessage ERROR ",e,oCall)),aCalls.splice(iLup,1)}},AxiomCommManager.prototype._dispatchEvent=function(cType,oData){if("function"==typeof CustomEvent)window.dispatchEvent(new CustomEvent(cType,{detail:oData}));else{var evt=document.createEvent("CustomEvent");evt.initCustomEvent(cType,!0,!1,oData),window.dispatchEvent(evt)}},AxiomCommManager.prototype.RemoveHandlersByOwner=function(cName,cOwner){var oCall,aCalls,iLup=0,oCalls=this.m_oCallHandlers[cName];for(var cCall in oCalls)if(aCalls=oCalls[cCall]){for(iLup=0,oCall=null;iLup<aCalls.length;)(oCall=aCalls[iLup]).owner&&oCall.owner==cOwner?aCalls.splice(iLup,1):iLup++;oCalls[cCall]=aCalls}this.m_oCallHandlers[cName]=oCalls};